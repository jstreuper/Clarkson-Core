<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ClarksonCore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">ClarksonCore</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -four phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Documentation</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/getting-started/index.html" class="">Getting started</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/getting-started/installation.html" class="">Installation</a>
                
            </li>
                    <li>
                <a href="guide/getting-started/templating.html" class="">Templating</a>
                
            </li>
                    <li>
                <a href="guide/getting-started/clarkson-objects.html" class="-active">Clarkson objects</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/clarkson-core.html" class="">Clarkson_Core</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/clarkson-core-gutenberg.html" class="">Gutenberg</a>
                
            </li>
                    <li>
                <a href="namespaces/clarkson-core-wordpress-object.html" class="">WordPress_Object</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/ClarksonCore.html" class="">ClarksonCore</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <div class="section" id="clarkson-objects">
<h1>Clarkson objects</h1>
<p>Clarkson Core provides a way for theme developers to work with objects.</p>
<p>These objects represent different entities in your WordPress site, such as posts, users and terms.</p>
<p>With these objects, you can create custom features, reuse logic and extend the way WordPress works.</p>
<div class="section" id="how-objects-are-created">
<h2>How objects are created</h2>
<p>Objects are created mainly through the <code>\Clarkson_Core\Objects</code> class.</p>
<p>This class takes a resource and automatically tries to determine the best fitting object for it.</p>
<p>When you do not extend any objects in your theme, Clarkson Core will fall back to default objects, such as <code>\Clarkson_Core\WordPress_Object\Clarkson_Object</code>.</p>
<p>If you do require custom features on your objects, you can extend the default object with your own.</p>
</div>
<div class="section" id="understanding-the-object-hierarchy-loading-custom-objects">
<h2>Understanding the object hierarchy, loading custom objects</h2>
<p>Much like the way the WordPress template hierarchy tries to determine the most applicable template for a page, Clarkson Core tries to load the most applicable PHP object.</p>
<div class="phpdocumentor-admonition -warning ">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>It is possible to register post types and taxonomies with names that can not lead to valid PHP class names.</p>
<p>Clarkson Core always normalizes an object name by making it lowercase, and replacing all non-alphanumeric characters with an <code>_</code>.</p>
<p>Eg: <code>Example-PostType</code> becomes <code>example_posttype</code>.</p>

    </article>
</div>
<p>You can use <a href="https://getcomposer.org/doc/04-schema.md#psr-4">Composer PSR-4 autoloading</a> to define where Clarkson Core should look for these objects. You can define the <code>\Clarkson_Core\WordPress_Object</code> namespace.</p>
<pre><code class="language-json " >&quot;autoload&quot;: {
    &quot;psr-4&quot;: {
        &quot;Clarkson_Core\\WordPress_Object\\&quot;: &quot;themes/child-theme/app/WordPress_Objects/&quot;
    }
}
</code></pre>
<div class="section" id="objects-posts-pages-custom-post-types">
<h3>Objects (Posts, Pages, custom post types)</h3>

    
<ol>
    <li>
            \ClarksonCore\WordPressObject\$posttype
        </li>
    <li>
            \ClarksonCore\WordPressObject\baseobject
        </li>
    <li>
            \ClarksonCore\WordPressObject\ClarksonObject (default)
        </li>
</ol>
</div>
<div class="section" id="terms">
<h3>Terms</h3>

    
<ol>
    <li>
            \ClarksonCore\WordPressObject\$taxonomy
        </li>
    <li>
            \ClarksonCore\WordPressObject\baseterm
        </li>
    <li>
            \ClarksonCore\WordPressObject\ClarksonTerm (default)
        </li>
</ol>
</div>
<div class="section" id="users">
<h3>Users</h3>

    
<ol>
    <li>
            \ClarksonCore\WordPressObject\user
        </li>
    <li>
            \ClarksonCore\WordPressObject\ClarksonUser (default)
        </li>
</ol>
</div>
<div class="section" id="templates">
<h3>Templates</h3>

    
<ol>
    <li>
            \ClarksonCore\WordPressObject\$template
        </li>
    <li>
            \ClarksonCore\WordPressObject\basetemplate
        </li>
    <li>
            \ClarksonCore\WordPressObject\ClarksonTemplate (default)
        </li>
</ol>
</div>
<div class="section" id="post-types">
<h3>Post types</h3>

    
<ol>
    <li>
            \ClarksonCore\WordPressObject\posttype$posttype
        </li>
    <li>
            \ClarksonCore\WordPressObject\baseposttype
        </li>
    <li>
            \ClarksonCore\WordPressObject\ClarksonPostType (default)
        </li>
</ol>
</div>
<div class="section" id="blocks-gutenberg">
<h3>Blocks (Gutenberg)</h3>

    
<ol>
    <li>
            \Gutenberg\Blocks\$blockname
        </li>
    <li>
            \Gutenberg\Blocks\baseblock
        </li>
    <li>
            \ClarksonCore\Gutenberg\BlockType (default)
        </li>
</ol>
</div>
</div>
<div class="section" id="extending-objects">
<h2>Extending objects</h2>
<p>You can use the hierarchy in WordPress objects to define custom behaviour.</p>
<p>As an example:</p>
<pre><code class="language-php " >&lt;?php
// wp-content/themes/child-theme/app/WordPress_Objects/event.php

namespace Clarkson_Core\WordPress_Object;

class event extends base_object{
    public static $type = &#039;event&#039;;

    public function get_event_date(): \DateTime{
        // This method is only available on the `event` object.
    }
}
</code></pre>
<p>As you can see in the example above, you can create an object that specifically handles event functions, for the event posttype.</p>
<p>In the example, this <code>event</code> objects extends from <code>base_object</code>. You can use <code>base_object</code> as a way to create methods that are available on <strong>all</strong> objects within your theme.</p>
<pre><code class="language-php " >&lt;?php
// wp-content/themes/child-theme/app/WordPress_Objects/base_object.php

namespace Clarkson_Core\WordPress_Object;

class base_object extends Clarkson_Object{
    public function has_teaser_video(): string{
        // This method is available on all objects Clarkson Core loads.
    }
}
</code></pre>
<p>The created <code>base_object</code> extends from the default <code>Clarkson_Object</code>, that comes with Clarson Core.</p>
<p>The original <code>Clarkson_Object</code> provides a lot of utility functions, which you can find in the API reference.</p>
</div>
<div class="section" id="retrieving-resources-from-the-database">
<h2>Retrieving resources from the database</h2>
<p>When retrieving data from the database, you directly want to have the correct object to work with. Here we list some methods of getting objects and converting standard WordPress objects.</p>
<div class="section" id="get-multiple-resources-at-once">
<h3>Get multiple resources at once</h3>
<p>Every type of object has a <code>get_many</code> function. This allows you to perform a database query for the resource type and the result will be automatically converted into Clarkson Objects.</p>
<pre><code class="language-php " >// Get 20 event objects.
$events = \Clarkson_Core\WordPress_Object\event::get_many( array(
    &#039;posts_per_page&#039; =&gt; &#039;20&#039;
) );

// Get users with a &#039;subscriber&#039; role.
$users = \Clarkson_Core\WordPress_Object\Clarkson_User::get_many( array(
    &#039;role&#039; =&gt; &#039;subscriber&#039;
) );

// Get 5 terms of the `venue` type.
$venues = \Clarkson_Core\WordPress_Object\venue::get_many( array( 
    &#039;number&#039; =&gt; 5 
) );
</code></pre>
</div>
<div class="section" id="get-a-single-0172e1293041beb4815fc14eaae476121ab23b8dobject-by-id">
<h3>Get a single ClarksonObject by ID</h3>
<p>Every relevant type of object has a <code>get</code> function, in which you can specify an object to retrieve.</p>
<pre><code class="language-php " >// Get an event with ID 5
$event = \Clarkson_Core\WordPress_Object\event::get( 5 );
</code></pre>
<div class="phpdocumentor-admonition -note ">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>If the type of the resource you request is not the same as the object you are requesting it on, ClarksonCore will automatically pick the correct object type for you.</p>

    </article>
</div>
<pre><code class="language-php " >// Post ID 6 is of type &#039;page&#039;
$event = \Clarkson_Core\WordPress_Object\event::get( 6 ); // Notice we are requesting it on the `event` object.
var_dump( get_class( $event ) ); // `Clarkson_Core\WordPress_Object\page`, `Clarkson_Core\WordPress_Object\base_object`, or `Clarkson_Core\WordPress_Object\Clarkson_Object`.
</code></pre>
</div>
<div class="section" id="converting-a-wp-post-to-a-clarkson-object">
<h3>Converting a WP_Post to a Clarkson Object</h3>
<p>Sometimes you'll have a basic WordPress model available that you want to convert to a Clarkson Object.</p>
<p>To do this, you ca use the utility class <code>\Clarkson_Core\Objects</code> to convert to the correct type.</p>
<pre><code class="language-php " >$event_wp_post = get_post( 5 ); // a WP_Post object.
$event = \Clarkson_Core\Objects::get_instance()-&gt;get_object( $event_wp_post ); // A \Clarkson_Core\WordPress_Object\event object.
</code></pre>
<p>This conversion type of method is available for all types. See  the <code>\Clarkson_Core\Objects</code> reference for these methods.</p>
</div>
</div>
<div class="section" id="overwriting-class-loading-behaviour">
<h2>Overwriting class loading behaviour.</h2>
<p>In some cases you might want more flexibility in determining which object is retrieved.</p>
<p>The following filters are available to manipulate the Clarkson Core object creation process:</p>


<ul>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_core_create_object_callback.html">clarkson_core_create_object_callback</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_object_type.html">clarkson_object_type</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_post_type_class.html">clarkson_post_type_class</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_role_class.html">clarkson_role_class</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_template_class.html">clarkson_template_class</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_term_types.html">clarkson_term_types</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_user_type.html">clarkson_user_type</a>
        </li>
</ul>
</div>

                <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>